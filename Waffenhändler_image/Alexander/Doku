Datum: 2024-06-27T09:31:00+02:00 	
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: GTK Hash MD5: 30BF1ADCDC4F8F7A44CA2B30967686EB (Version GtkHash 1.5)

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Festplatte zur durchsicht mitgenommen(wort laut musys genau so er halten bleiben).
hashwert mit gtkhash geprüft stimmen überein.

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Datum: 2024-06-28T15:01:00+02:00 	
Datei: ForImage4.img

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: GTK Hash MD5: 30BF1ADCDC4F8F7A44CA2B30967686EB
    Programm 2: fdisk from util-linux 2.40
    Programm 3: dc3dd 7.2.646 --> MD5: 30bf1adcdc4f8f7a44ca2b30967686eb

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
dc3dd if=/media/sf_vm_puffer/ForImage4.img of=/home/kali/Desktop/DIF/Projekt_waffenhändler/backup_ForImage4.dd

dc3dd 7.2.646 started at 2024-07-08 15:07:53 +0200
compiled options:
command line dc3dd if=/media/sf_vm_puffer/ForImage4.img of=/home/kali/Desktop/DIF/Projekt_waffenhändler/backup_ForImage4.dd
sector size: 512 bytes (assumed)
 11601117184 bytes ( 11 G ) copied ( 100% ), 1013 s, 11 M/s                   

input results for file `/media/sf_vm_puffer/ForImage4.img':
   22658432 sectors in

output results for file `/home/kali/Desktop/DIF/Projekt_waffenhändler/backup_ForImage4.dd':
   22658432 sectors out

dc3dd completed at 2024-07-08 15:24:46 +0200
-----------------------------------------------------------------------------------------------
qemu-img convert -O raw /home/kali/Desktop/DIF/Projekt_waffenhändler/backup_ForImage4.dd /home/kali/Desktop/DIF/Projekt_waffenhändler/backup_ForImage4.raw
-----------------------------------------------------------------------------------------------
sudo losetup /dev/loop7 /home/kali/Desktop/DIF/Projekt_waffenhändler/backup_ForImage4.raw
-----------------------------------------------------------------------------------------------
sudo partx -a /dev/loop7
-----------------------------------------------------------------------------------------------
sudo fdisk -l /dev/loop7

Disk /dev/loop7: 33 GiB, 35433480192 bytes, 69206016 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: 7AB35F56-8FB0-407B-AC62-FD7C3E10AB6A

Device          Start      End  Sectors  Size Type
/dev/loop7p1     2048     4095     2048    1M BIOS boot
/dev/loop7p2     4096  1054719  1050624  513M EFI System
/dev/loop7p3  1054720 46135295 45080576 21.5G Linux filesystem
/dev/loop7p4 47656960 68360191 20703232  9.9G Microsoft basic data
-----------------------------------------------------------------------------------------------
sudo mkdir -p /mnt/efi_partition
-----------------------------------------------------------------------------------------------
sudo mount /dev/loop7p2 /mnt/efi_partition
-----------------------------------------------------------------------------------------------
sudo mkdir -p /mnt/linux_partition
-----------------------------------------------------------------------------------------------
sudo mount /dev/loop7p3 /mnt/linux_partition
-----------------------------------------------------------------------------------------------
sudo mkdir -p /mnt/microsoft_partition
-----------------------------------------------------------------------------------------------
sudo mount /dev/loop7p4 /mnt/microsoft_partition
-----------------------------------------------------------------------------------------------
ls /mnt/linux_partition
ls /mnt/microsoft_partition
-----------------------------------------------------------------------------------------------
sudo mount -o remount,ro /mnt/linux_partition
sudo mount -o remount,ro /mnt/microsoft_partition
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Datum: 2024-06-30T12:18:00+02:00 	
Datei: ForImage4.img

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: dumpe2fs 1.47.0 (5-Feb-2023)
    Programm 2: tune2fs 1.47.0 (5-Feb-2023)
    Programm 3: The Sleuth Kit ver 4.12.1
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
sudo dumpe2fs /dev/loop7p3 > linux_partition_dumpe2fs.txt
-----------------------------------------------------------------------------------------------
sudo tune2fs -l /dev/loop7p3 > tune2fs.txt
-----------------------------------------------------------------------------------------------
sudo mmls /home/kali/Desktop/DIF/Projekt_waffenhändler/ForImage4.raw

GUID Partition Table (EFI)
Offset Sector: 0
Units are in 512-byte sectors

      Slot      Start        End          Length       Description
000:  Meta      0000000000   0000000000   0000000001   Safety Table
001:  -------   0000000000   0000002047   0000002048   Unallocated
002:  Meta      0000000001   0000000001   0000000001   GPT Header
003:  Meta      0000000002   0000000033   0000000032   Partition Table
004:  000       0000002048   0000004095   0000002048   
005:  001       0000004096   0001054719   0001050624   EFI System Partition
006:  002       0001054720   0046135295   0045080576   
007:  -------   0046135296   0047656959   0001521664   Unallocated
008:  003       0047656960   0068360191   0020703232   FAT
009:  -------   0068360192   0069206015   0000845824   Unallocated
-----------------------------------------------------------------------------------------------
sudo fls -r -m /mnt/linux_partition/ -o 4096 /home/kali/Desktop/DIF/Projekt_waffenhändler/ForImage4.raw > fls_efi_partition_files.txt
-----------------------------------------------------------------------------------------------
sudo fls -r -m /mnt/linux_partition/ -o 1054720 /home/kali/Desktop/DIF/Projekt_waffenhändler/ForImage4.raw > fls_second_partition_files.txt
-----------------------------------------------------------------------------------------------
sudo fls -r -m /mnt/linux_partition/ -o 47656960 -f fat /home/kali/Desktop/DIF/Projekt_waffenhändler/ForImage4.raw > fls_fat_partition_files.txt
-----------------------------------------------------------------------------------------------
mkdir -p /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/
-----------------------------------------------------------------------------------------------
sudo icat /dev/loop7p3 262 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/grubx64.efi && \
sudo icat /dev/loop7p3 264 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/shimx64.efi && \
sudo icat /dev/loop7p3 266 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/mmx64.efi && \
sudo icat /dev/loop7p3 267 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/BOOTX64.CSV && \
sudo icat /dev/loop7p3 269 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/grub.cfg && \
sudo icat /dev/loop7p3 112005 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/BOOTX64.EFI && \
sudo icat /dev/loop7p3 112007 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/fbx64.efi && \
sudo icat /dev/loop7p3 112009 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/mmx64.efi
------------------------------------------------------------------------------------------------
!!!!! icat hat nicht funktioniert wird erstmal hinten angestellt.
------------------------------------------------------------------------------------------------
sudo ntfsinfo -m /mnt/microsoft_partition

Error reading bootsector: Is a directory
Failed to mount '/mnt/microsoft_partition': Is a directory
Failed to open '/mnt/microsoft_partition'.
------------------------------------------------------------------------------------------------
mount | grep /mnt

/dev/loop7p3 on /mnt/linux_partition type ext4 (ro,relatime)
/dev/loop7p2 on /mnt/efi_partition type vfat (rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,utf8,errors=remount-ro)
------------------------------------------------------------------------------------------------
sudo mkdir -p /mnt/microsoft_partition
------------------------------------------------------------------------------------------------
sudo mount -o loop,ro /dev/loop7p4 /mnt/microsoft_partition
------------------------------------------------------------------------------------------------
ount | grep /mnt

/dev/loop7p3 on /mnt/linux_partition type ext4 (ro,relatime)
/dev/loop7p2 on /mnt/efi_partition type vfat (rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,utf8,errors=remount-ro)
/dev/loop7p4 on /mnt/microsoft_partition type vfat (ro,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,utf8,errors=remount-ro)
------------------------------------------------------------------------------------------------
sudo modprobe nbd max_part=16
------------------------------------------------------------------------------------------------
sudo qemu-nbd --connect=/dev/nbd0 /home/kali/Desktop/DIF/Projekt_waffenhändler/Backup_ForImage4.dd
------------------------------------------------------------------------------------------------
sudo fdisk -l /dev/nbd0

Disk /dev/nbd0: 33 GiB, 35433480192 bytes, 69206016 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: 7AB35F56-8FB0-407B-AC62-FD7C3E10AB6A

Device         Start      End  Sectors  Size Type
/dev/nbd0p1     2048     4095     2048    1M BIOS boot
/dev/nbd0p2     4096  1054719  1050624  513M EFI System
/dev/nbd0p3  1054720 46135295 45080576 21.5G Linux filesystem
/dev/nbd0p4 47656960 68360191 20703232  9.9G Microsoft basic data                                                                 
------------------------------------------------------------------------------------------------
sudo mount -o ro /dev/nbd0p3 /mnt/linux_partition
------------------------------------------------------------------------------------------------
sudo mount -o ro /dev/nbd0p4 /mnt/microsoft_partition
------------------------------------------------------------------------------------------------
sudo mount -o ro /dev/nbd0p2 /mnt/efi_partition
------------------------------------------------------------------------------------------------
 sudo fls -r -m /mnt/linux_partition /dev/nbd0p3 > /home/kali/Desktop/DIF/Projekt_waffenhändler/linux_partition_files.txt
------------------------------------------------------------------------------------------------
 sudo fls -r -m /mnt/linux_partition /dev/nbd0p4 > /home/kali/Desktop/DIF/Projekt_waffenhändler/micro_partition_files.txt
------------------------------------------------------------------------------------------------
 sudo fls -r -m /mnt/linux_partition /dev/nbd0p2 > /home/kali/Desktop/DIF/Projekt_waffenhändler/efi_partition_files.txt
------------------------------------------------------------------------------------------------
sudo mkdir -p /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/
------------------------------------------------------------------------------------------------
sudo icat /dev/nbd0p2 262 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/grubx64.efi
sudo icat /dev/nbd0p2 264 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/shimx64.efi
sudo icat /dev/nbd0p2 266 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/mmx64.efi
sudo icat /dev/nbd0p2 267 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/BOOTX64.CSV
sudo icat /dev/nbd0p2 269 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/grub.cfg
sudo icat /dev/nbd0p2 112005 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/BOOTX64.EFI
sudo icat /dev/nbd0p2 112007 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/fbx64.efi
sudo icat /dev/nbd0p2 112009 > /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/mmx64.efi
------------------------------------------------------------------------------------------------
sudo cat /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/grub.cfg                      
search.fs_uuid 4021d3ac-2d89-4f83-a171-7fc98d05ba72 root 
set prefix=($root)'/boot/grub'
configfile $prefix/grub.cfg
------------------------------------------------------------------------------------------------
sudo cat /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/BOOTX64.CSV                        

shimx64.efi,ubuntu,,This is the boot entry for ubuntu
------------------------------------------------------------------------------------------------
exiftool /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/grubx64.efi
exiftool /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/shimx64.efi
exiftool /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/mmx64.efi
exiftool /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/BOOTX64.CSV
exiftool /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/grub.cfg
exiftool /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/BOOTX64.EFI
exiftool /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/fbx64.efi
exiftool /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/mmx64.efi
------------------------------------------------------------------------------------------------
md5sum /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/*
sha256sum /home/kali/Desktop/DIF/Projekt_waffenhändler/icat_extr/*
------------------------------------------------------------------------------------------------
sudo find /mnt/linux_partition -type f -iname "*.jpg" -o -iname "*.png" -o -iname "*.mp4" -o -iname "*.avi" > linux_media_files.txt
------------------------------------------------------------------------------------------------
sudo find /mnt/linux_partition -type f -iname "*.docx" -o -iname "*.pdf" -o -iname "*.eml" -o -iname "*.pst" > linux_documents_emails.txt
------------------------------------------------------------------------------------------------
sudo find /mnt/microsoft_partition -type f -iname "*.jpg" -o -iname "*.png" -o -iname "*.mp4" -o -iname "*.avi" > microsoft_media_files.txt
------------------------------------------------------------------------------------------------
sudo find /mnt/microsoft_partition -type f -iname "*.docx" -o -iname "*.pdf" -o -iname "*.eml" -o -iname "*.pst" > microsoft_documents_emails.txt
------------------------------------------------------------------------------------------------
sudo exiftool -r /mnt/linux_partition > linux_partition_exif_metadata.txt
sudo exiftool -r /mnt/microsoft_partition > microsoft_partition_exif_metadata.txt
------------------------------------------------------------------------------------------------
sudo bulk_extractor -R -o linux_email_output /mnt/linux_partition
sudo bulk_extractor -R -o microsoft_email_output /mnt/microsoft_partition
------------------------------------------------------------------------------------------------
sudo sqlitebrowser /mnt/linux_partition/path_to_chat_database.db
sudo sqlitebrowser /mnt/microsoft_partition/path_to_chat_database.db??
probleme mit sqlitebrowser wird nachträglich geprüft.        !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
------------------------------------------------------------------------------------------------
bulk bleibt bei 3,8% hängen.
------------------------------------------------------------------------------------------------
Datum: 2024-07-01T10:01:00+02:00 	
Datei: ForImage4.img

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: bulk_extractor 2.1.1
    Programm 2: fdisk from util-linux 2.40

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
sudo bulk_extractor -R -o /home/kali/Desktop/DIF/Projekt_waffenhändler/linux_email_output_etc /mnt/linux_partition/etc
bricht bei 49% ab wird noch analysiert wieso                !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
------------------------------------------------------------------------------------------------
sudo bulk_extractor -R -o /home/kali/Desktop/DIF/Projekt_waffenhändler/linux_email_output_home /mnt/linux_partition/home

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Datum: 2024-07-02T18:20:00+02:00 	
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Nachträglich wurde ein potenzielle Passwortliste übermittelt, diese wird als nächste geprüft ob sie die passwörter des Angeklagten enthält.
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Datum: 2024-07-03T09:52:00+02:00 	
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: John the Ripper 1.9.0-jumbo-1+bleeding-aec1328d6c 2021-11-02 10:45:52 +0100 OMP [linux-gnu 64-bit x86_64 SSE2 AC]

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 sudo find /mnt/microsoft_partition -type f > /home/kali/Desktop/DIF/file_paths_linux.txt 
------------------------------------------------------------------------------------------------
 sudo find /mnt/microsoft_partition -type f > /home/kali/Desktop/DIF/file_paths_microsoft.txt 
------------------------------------------------------------------------------------------------
sudo cp /mnt/linux_partition/etc/shadow /home/kali/Desktop/DIF/Projekt_waffenhändler/shadow_copy
sudo cp /mnt/linux_partition/etc/passwd /home/kali/Desktop/DIF/Projekt_waffenhändler/passwd_copy
sudo unshadow /home/kali/Desktop/DIF/Projekt_waffenhändler/passwd_copy /home/kali/Desktop/DIF/Projekt_waffenhändler/shadow_copy > /home/kali/Desktop/DIF/Projekt_waffenhändler/unshadowed.txt
------------------------------------------------------------------------------------------------
sudo john --wordlist=/home/kali/Desktop/DIF/Projekt_waffenhändler/passwörter_projekt.txt /home/kali/Desktop/DIF/Projekt_waffenhändler/unshadowed.txt
------------------------------------------------------------------------------------------------
hatt alles nichts gebracht etliche versuche mit hashcat und john.
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Datum: 2024-07-11T19:21:00+02:00 	
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: selbst geschrieben

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
git clone https://github.com/openwall/yescrypt
cd yescrypt
make
./phc-test
touch yescrypt_cracker.sh
gedit yescrypt_cracker.sh
------------------------------------------------------------------------------------------------
#yescrypt_cracker.sh
#!/bin/bash

HASHES_FILE="/home/kali/Desktop/DIF/Projekt_waffenhändler/hashes.txt"
WORDLIST="/home/kali/Desktop/DIF/Projekt_waffenhändler/passwörter_projekt.txt"

while IFS= read -r line; do
  hash=$(echo "$line" | cut -d':' -f2)
  while IFS= read -r password; do
    echo -n "$password" | ./phc-test "$hash" > /dev/null 2>&1
    if [ $? -eq 0 ]; then
      echo "Password found for hash $hash: $password"
      break
    fi
  done < "$WORDLIST"
done < "$HASHES_FILE"
------------------------------------------------------------------------------------------------
chmod +x yescrypt_cracker.sh
------------------------------------------------------------------------------------------------
$username:$y$cost$salt$hash
pc:$y$j9T$graH6StsN64vZy4TX6DLO1$jFAPKwPTtCP25YeK6fiAIcbse.xZb3XaFXnIuwfaej4
dopey:$y$j9T$PvbZIk5C5Oz.CFD6m56mR0$Ato/67rlJjcn7E6KBwFRPgjOvWNaBIqg7.m/j1USII7
ella:$y$j9T$b8KliX1FgPvuKb09j0FOa.$S8KNnnJ8xRisFA8Sann8/wnMgvHXYGn.V.FCcHjv1y8
------------------------------------------------------------------------------------------------
sudo ./yescrypt_cracker.sh
-->58 c/s real, 58 c/s virtual (258 hashes in 4.38 seconds)
Password found: Iech7ied
------------------------------------------------------------------------------------------------
touch which_user.sh
chmod +x which_user.sh
gedit which_user.sh
------------------------------------------------------------------------------------------------
#wich_user.sh
#!/bin/bash

PASSWORD="Iech7ied"
HASHES_FILE="/home/kali/Desktop/DIF/Projekt_waffenhändler/hashes.txt"

while IFS= read -r line; do
  user=$(echo "$line" | cut -d':' -f1)
  hash=$(echo "$line" | cut -d':' -f2)
  
  # Verwenden Sie phc-test oder eine andere Verifizierungsmethode hier
  echo -n "$PASSWORD" | ./phc-test "$hash" > /dev/null 2>&1
  if [ $? -eq 0 ]; then
    echo "Passwort gefunden für Benutzer $user: $PASSWORD"
    break
  fi
done < "$HASHES_FILE"
------------------------------------------------------------------------------------------------
sudo ./which_user.sh
Passwort gefunden für Benutzer pc: Iech7ied
------------------------------------------------------------------------------------------------
passwort falsch code nicht korrekt.
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Datum: 2024-07-12T20:10:02+02:00 	
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: selbst geschrieben
    Programm 2: foremmost 1.5.7

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
abgewandelter code, vieles wieder gelöscht.
------------------------------------------------------------------------------------------------
#foremost.conf
jpg     y   20000000    \xff\xd8\xff\xe0\x00\x10    \xff\xd9
pdf     y   5000000     %PDF-   %.PDF
doc     y   5000000     \xd0\xcf\x11\xe0\xa1\xb1\x1a\xe1 \xff\xff\xff\xff
png     y   20000000    \x89PNG  \x49\x45\x4e\x44\xae\x42\x60\x82
gif     y   10000000    GIF89a  GIF87a
mp4     y   50000000    \x00\x00\x00\x18ftypmp42 \x00\x00\x00\x18ftypiso2
txt     y   10000000    \x00\x00\x00\x20text \x00\x00\x00\x18ftypmp42
html    y   10000000    <!DOCTYPE   <html
email   y   200000  (\r\n|\n)(From|To|Subject|Date):(\r\n|\n)(.{0,3000})(\r\n|\n)
------------------------------------------------------------------------------------------------
sudo foremost -i /home/kali/Desktop/DIF/Projekt_waffenhändler/backup_ForImage4.dd -o /home/kali/Desktop/DIF/Projekt_waffenhändler/foremost_output_new -c /home/kali/Desktop/DIF/Projekt_waffenhändler/foremost.conf
------------------------------------------------------------------------------------------------
gedit split_and_rename.sh
------------------------------------------------------------------------------------------------
chmod +x split_and_rename.sh
------------------------------------------------------------------------------------------------
# Datei in 20 Teile teilen
split -n l/20 passwörter_projekt.txt passwort_teil_

# Dateien umbenennen
for i in {a..t}; do
  mv passwort_teil_a$i passwort_teil_$(( $(printf '%d\n' "'$i") - 96 )).txt
done
------------------------------------------------------------------------------------------------
sudo bash split_and_rename.sh
------------------------------------------------------------------------------------------------
#yescrypt_cracker.sh
#!/bin/bash

HASHES_FILE="/home/kali/Desktop/DIF/Projekt_waffenhändler/hashes.txt"

for i in {1..20}; do
  WORDLIST="/home/kali/Desktop/DIF/Projekt_waffenhändler/passwort_teil_${i}.txt"
  total_passwords=$(wc -l < "$WORDLIST")

  /usr/bin/gnome-terminal --tab -- bash -c "
    while IFS=: read -r user hash; do
      echo \"Checking hash for user: \$user\"
      found=0
      password_count=0
      while IFS= read -r password; do
        password_count=\$((password_count + 1))
        echo -n \"Trying password \$password_count of \$total_passwords for user \$user: \$password ... \"
        result=\$(echo -n \"\$password\" | ./phc-test \"\$hash\" 2>/dev/null)
        if [[ \$result == *\"\$hash\"* ]]; then
          echo \"Success!\"
          echo \"Password found for user \$user: \$password\"
          found=1
          break
        else
          echo \"Failed.\"
        fi
      done < \"$WORDLIST\"
      if [ \$found -eq 0 ]; then
        echo \"No password found for user: \$user\"
      fi
    done < \"$HASHES_FILE\"
  " &
done
wait

------------------------------------------------------------------------------------------------
chmod +x yescrypt_cracker.sh
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Datum: 2024-07-13T10:19:00+02:00 	
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: selbst geschrieben
    Programm 2: binwalk v2.3.3

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
sudo gedit scan_polyglot.sh
------------------------------------------------------------------------------------------------
chmod +x scan_polyglot.sh
------------------------------------------------------------------------------------------------
#!/bin/bash

TARGET_DIR="/home/kali/Desktop/DIF/Projekt_waffenhändler/foremost_output_new/jpg"
OUTPUT_FILE="scan_output.txt"

echo "Starting polyglot scan..." > "$OUTPUT_FILE"

for file in "$TARGET_DIR"/*.jpg; do
    echo "Scanning $file" >> "$OUTPUT_FILE"
    binwalk "$file" >> "$OUTPUT_FILE"
    echo "" >> "$OUTPUT_FILE"
done

echo "Polyglot scan completed. Results saved in $OUTPUT_FILE."
------------------------------------------------------------------------------------------------
sudo bash scan_polyglot.sh
------------------------------------------------------------------------------------------------
sudo gedit entropy_analysis.sh
------------------------------------------------------------------------------------------------
chmod +x entropy_analysis.sh
------------------------------------------------------------------------------------------------
#!/bin/bash

TARGET_DIR="/home/kali/Desktop/DIF/Projekt_waffenhändler/foremost_output_new/jpg"
OUTPUT_FILE="entropy_output.txt"

echo "Starting entropy analysis..." > "$OUTPUT_FILE"

for file in "$TARGET_DIR"/*.jpg; do
    echo "Analyzing entropy for $file" >> "$OUTPUT_FILE"
    binwalk -E "$file" >> "$OUTPUT_FILE"
    echo "" >> "$OUTPUT_FILE"
done

echo "Entropy analysis completed. Results saved in $OUTPUT_FILE."
------------------------------------------------------------------------------------------------
sudo bash entropy_analysis.sh
------------------------------------------------------------------------------------------------
gedit extract_files.sh
chmod +x extract_files.sh
------------------------------------------------------------------------------------------------
#!/bin/bash

# Zielverzeichnis für die extrahierten Dateien
ZIELVERZEICHNIS="extract"

# Sicherstellen, dass das Zielverzeichnis existiert
mkdir -p "$ZIELVERZEICHNIS"

# Liste der Dateien, die durchsucht werden sollen
DATEIEN=(
    "00942474.jpg"
    "02283232.jpg"
    "02283288.jpg"
    "02318677.jpg"
    "02366816.jpg"
    "03185792.jpg"
    "04552000.jpg"
    "07053720.jpg"
    "07053720_1.jpg"
    "07053808.jpg"
    "07053904.jpg"
    "07053920.jpg"
    "07053928.jpg"
    "07053936.jpg"
    "07053944.jpg"
    "07053952.jpg"
    "07053960.jpg"
    "07053968.jpg"
    "07053976.jpg"
    "07053984.jpg"
    "07053992.jpg"
    "07054000.jpg"
    "07054008.jpg"
    "07054016.jpg"
    "07054024.jpg"
    "07054048.jpg"
    "08677184.jpg"
    "08720832.jpg"
    "09215656.jpg"
    "09227784.jpg"
    "09265104.jpg"
    "09276656.jpg"
    "09285184.jpg"
    "09300000.jpg"
    "09306112.jpg"
    "09334456.jpg"
    "09358544.jpg"
    "09359376.jpg"
    "09361488.jpg"
    "09361584.jpg"
    "09362736.jpg"
    "09362784.jpg"
    "09363760.jpg"
    "09367032.jpg"
    "09367240.jpg"
    "10017232.jpg"
    "10809544.jpg"
    "10809560.jpg"
    "10878696.jpg"
    "11280832.jpg"
    "11738976.jpg"
    "11771040.jpg"
    "11820512.jpg"
    "13339968.jpg"
    "13410616.jpg"
    "14625240.jpg"
    "15806872.jpg"
    "20978320.jpg"
)

# Binwalk für jede Datei ausführen und extrahierte Dateien verschieben
for DATEI in "${DATEIEN[@]}"; do
    if [ -f "$DATEI" ]; then
        echo "Durchsuche $DATEI..."
        sudo binwalk -e --run-as=root "$DATEI"
        EXTRACT_DIR="_${DATEI}.extracted"
        if [ -d "$EXTRACT_DIR" ]; then
            echo "Verschiebe extrahierte Dateien von $EXTRACT_DIR nach $ZIELVERZEICHNIS..."
            sudo mv "$EXTRACT_DIR"/* "$ZIELVERZEICHNIS"/
            sudo rmdir "$EXTRACT_DIR"
        else
            echo "Keine extrahierten Dateien für $DATEI gefunden."
        fi
    else
        echo "Datei $DATEI nicht gefunden."
    fi
done

echo "Alle Dateien wurden durchsucht und die extrahierten Dateien wurden nach $ZIELVERZEICHNIS verschoben."
------------------------------------------------------------------------------------------------
gedit extract_combined.sh
chmod +x extract_combined.sh
------------------------------------------------------------------------------------------------#!/bin/bash

# Verzeichnis zum Speichern der extrahierten Dateien
OUTPUT_DIR="extract_combined"

# Verzeichnis erstellen, wenn es nicht existiert
mkdir -p "$OUTPUT_DIR"

# Liste der zu durchsuchenden Dateien
FILES=(
    "00942474.jpg" "02283232.jpg" "02283288.jpg" "02318677.jpg"
    "02366816.jpg" "03185792.jpg" "04552000.jpg" "07053720.jpg"
    "07053720_1.jpg" "07053808.jpg" "07053904.jpg" "07053920.jpg"
    "07053928.jpg" "07053936.jpg" "07053944.jpg" "07053960.jpg"
    "07053968.jpg" "07053976.jpg" "07053984.jpg" "07053992.jpg"
    "07054000.jpg" "07054008.jpg" "07054016.jpg" "07054024.jpg"
    "07054048.jpg" "08677184.jpg" "08720832.jpg" "09215656.jpg"
    "09227784.jpg" "09265104.jpg" "09276656.jpg" "09285184.jpg"
    "09300000.jpg" "09306112.jpg" "09334456.jpg" "09358544.jpg"
    "09359376.jpg" "09361488.jpg" "09361584.jpg" "09362736.jpg"
    "09362784.jpg" "09363760.jpg" "09367032.jpg" "09367240.jpg"
    "10017232.jpg" "10809544.jpg" "10809560.jpg" "10878696.jpg"
    "11280832.jpg" "11738976.jpg" "11771040.jpg" "11820512.jpg"
    "13339968.jpg" "13410616.jpg" "14625240.jpg" "15806872.jpg"
    "20978320.jpg"
)

# Dateien durchsuchen und eingebettete Dateien extrahieren
for file in "${FILES[@]}"; do
    echo "Durchsuche $file..."

    if [ -f "$file" ]; then
        # Finde die Offsets mit binwalk
        OFFSETS=$(binwalk -q --run-as=root -e "$file" | grep -oE '^[0-9]+')
        
        # Extrahiere die Bereiche mit dd
        for offset in $OFFSETS; do
            OUTPUT_FILE="$OUTPUT_DIR/$(basename "$file")_$offset.bin"
            dd if="$file" of="$OUTPUT_FILE" bs=1 skip="$offset" status=none
            echo "Extrahiert: $OUTPUT_FILE"
        done
    else
        echo "Datei $file nicht gefunden."
    fi
done

echo "Alle Dateien wurden durchsucht und die extrahierten Dateien wurden nach $OUTPUT_DIR verschoben."
------------------------------------------------------------------------------------------------
Datum: 2024-07-15T09:39:00+02:00 	
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: John the Ripper 1.9.0-jumbo-1+bleeding-aec1328d6c 2021-11-02 10:45:52 +0100 OMP [linux-gnu 64-bit x86_64 SSE2 AC]

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
john hashes.txt wordlist=projekt_passwörter.txt --format=crypt
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Datum: 2024-07-21T11:29:00+02:00 	
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: John the Ripper 1.9.0-jumbo-1+bleeding-aec1328d6c 2021-11-02 10:45:52 +0100 OMP [linux-gnu 64-bit x86_64 SSE2 AC]

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
john --format=crypt hashes.txt
------------------------------------------------------------------------------------------------
strings backup_ForImage4.raw | grep -iE "Waffen|Munition|Verkauf|Kauf|waffe|Waffe|munition|verkauf|kauf|Handel|handel" > string_output_secfiles.txt (ist der dump der ganzen festplatte)
------------------------------------------------------------------------------------------------
sudo mmls /home/kali/Desktop/DIF/Projekt_waffenhändler/backup_ForImage4.raw

GUID Partition Table (EFI)
Offset Sector: 0
Units are in 512-byte sectors

      Slot      Start        End          Length       Description
000:  Meta      0000000000   0000000000   0000000001   Safety Table
001:  -------   0000000000   0000002047   0000002048   Unallocated
002:  Meta      0000000001   0000000001   0000000001   GPT Header
003:  Meta      0000000002   0000000033   0000000032   Partition Table
004:  000       0000002048   0000004095   0000002048   
005:  001       0000004096   0001054719   0001050624   EFI System Partition
006:  002       0001054720   0046135295   0045080576   
007:  -------   0046135296   0047656959   0001521664   Unallocated
008:  003       0047656960   0068360191   0020703232   FAT
009:  -------   0068360192   0069206015   0000845824   Unallocated
------------------------------------------------------------------------------------------------
/home/kali/Desktop/DIF/Projekt_waffenhändler/ umbennant in --> /home/kali/Desktop/DIF/Projekt_waffenhaendler/
------------------------------------------------------------------------------------------------
#!/bin/bash

# Verzeichnis für die extrahierten Dateien
EXTRACT_DIR="extracted_files"
mkdir -p "$EXTRACT_DIR"

# Liste der zu durchsuchenden Dateien
FILES=(
    "00942474.jpg" "02283232.jpg" "02283288.jpg" "02318677.jpg"
    "02366816.jpg" "03185792.jpg" "04552000.jpg" "07053720.jpg"
    "07053720_1.jpg" "07053808.jpg" "07053904.jpg" "07053920.jpg"
    "07053928.jpg" "07053936.jpg" "07053944.jpg" "07053960.jpg"
    "07053968.jpg" "07053976.jpg" "07053984.jpg" "07053992.jpg"
    "07054000.jpg" "07054008.jpg" "07054016.jpg" "07054024.jpg"
    "07054048.jpg" "08677184.jpg" "08720832.jpg" "09215656.jpg"
    "09227784.jpg" "09265104.jpg" "09276656.jpg" "09285184.jpg"
    "09300000.jpg" "09306112.jpg" "09334456.jpg" "09358544.jpg"
    "09359376.jpg" "09361488.jpg" "09361584.jpg" "09362736.jpg"
    "09362784.jpg" "09363760.jpg" "09367032.jpg" "09367240.jpg"
    "10017232.jpg" "10809544.jpg" "10809560.jpg" "10878696.jpg"
    "11280832.jpg" "11738976.jpg" "11771040.jpg" "11820512.jpg"
    "13339968.jpg" "13410616.jpg" "14625240.jpg" "15806872.jpg"
    "20978320.jpg"
)

# Binwalk auf jede Datei anwenden
for file in "${FILES[@]}"; do
  if [ -f "$file" ]; then
    echo "Verarbeite $file ..."
    sudo binwalk -e --run-as=root "$file"
    # Verschiebe die extrahierten Dateien in das Verzeichnis
    extract_subdir="_${file}.extracted"
    if [ -d "$extract_subdir" ]; then
      mv "$extract_subdir"/* "$EXTRACT_DIR"/
      rmdir "$extract_subdir"
    fi
  else
    echo "Datei $file nicht gefunden."
  fi
done

# Packe alle extrahierten Dateien in einen Ordner
tar -cvzf extracted_files.tar.gz -C "$EXTRACT_DIR" .

echo "Extraktion und Archivierung abgeschlossen. Die Dateien befinden sich in extracted_files.tar.gz."
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Datum: 2024-07-22T20:12:02+02:00 	
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Genutzte Programme:

    Programm 1: dd (coreutils) 9.4
    Programm 2: file-5.45
    Programm 3: convert ImageMagick 6.9.12-98 Q16 x86_64 18038

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# Extrahieren der Segmente mit Statusbericht
dd if=03185792.jpg of=segment1.jpg bs=1 skip=0 count=336 status=progress
dd if=03185792.jpg of=segment2.tiff bs=1 skip=30 count=306 status=progress
dd if=03185792.jpg of=segment3.jpg bs=1 skip=336 status=progress

# Überprüfen der extrahierten Segmente
file segment1.jpg
file segment2.tiff
file segment3.jpg

# Reparieren der JPEG-Segmente mit ImageMagick
convert segment1.jpg repaired_segment1.jpg
convert segment3.jpg repaired_segment3.jpg

# (Optional) Öffnen und Reparieren der Segmente mit GIMP
# Öffnen Sie GIMP und reparieren Sie die Dateien manuell.
------------------------------------------------------------------------------------------------
sudo apt-get install jpeginfo
jpeginfo -c segment1.jpg
jpeginfo -c segment3.jpg
------------------------------------------------------------------------------------------------
git clone https://github.com/kornelski/jpeg-archive.git
cd jpeg-archive
./jpeg-repair segment1.jpg repaired_segment1.jpg
./jpeg-repair segment3.jpg repaired_segment3.jpg
sudo apt-get install hexedit
ls -lh segment1.jpg
------------------------------------------------------------------------------------------------
#!/bin/bash

# Pfade anpassen
input_file="/home/kali/Desktop/DIF/Projekt_waffenhändler/foremost_output_new/jpg/scan_report.txt"
source_directory="/home/kali/Desktop/DIF/Projekt_waffenhändler/foremost_output_new/jpg/"
target_directory="/home/kali/Desktop/DIF/Projekt_waffenhändler/foremost_output_new/extracted_segments/"

# Zielordner erstellen, falls nicht vorhanden
mkdir -p "$target_directory"

# Datei lesen und verarbeiten
current_file=""
segment_counter=1

while IFS= read -r line; do
    if [[ $line == Scanning* ]]; then
        # Extrahiere den Dateinamen
        current_file=$(echo "$line" | awk '{print $3}')
    elif [[ $line == 0* ]] && [[ -n $current_file ]]; then
        # Extrahiere Segmentinformationen
        start_offset=$(echo "$line" | awk '{print $1}')
        hex_end_offset=$(echo "$line" | awk '{print $2}')
        end_offset=$((16#$hex_end_offset))
        length=$((end_offset - start_offset))

        source_path="${source_directory}$(basename "$current_file")"
        target_path="${target_directory}segment${segment_counter}.jpg"

        # Verwende dd, um das Segment zu extrahieren
        dd if="$source_path" of="$target_path" bs=1 skip="$start_offset" count="$length" status=progress

        echo "Extrahiere Segment: $source_path -> $target_path"

        segment_counter=$((segment_counter + 1))
    fi
done < "$input_file"

echo "Alle relevanten Segmente wurden extrahiert."
------------------------------------------------------------------------------------------------
dd if=secFiles of=encoded_script_data.bin bs=1 skip=62783751 count=$((122486062-62783751))
------------------------------------------------------------------------------------------------
# Extrahieren der MISAM-Datenbankdatei
dd if=secFiles of=mysql_misam_data.bin bs=1 skip=122486062 count=$((194568895-122486062))

# Extrahieren der ISAM-Datenbankdatei
dd if=secFiles of=mysql_isam_data.bin bs=1 skip=194568895
------------------------------------------------------------------------------------------------
# Beispiel für den Import in eine MySQL-Datenbank
mysql -u [username] -p[password] -e "CREATE DATABASE my_database;"
mysql -u [username] -p[password] my_database < mysql_misam_data.bin

SHOW TABLES;
SELECT * FROM [table_name] LIMIT 10;
-----------------------------------------------------------------------------------------------------------------
system zerschossen neu aufgesetzt alles was nicht im git war ist weg.
-----------------------------------------------------------------------------------------------------------------
neu aufgesetzt.
------------------------------------------------------------------------------------------------



-----------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------
Details zu den Partitionen
Partition 000

Start: 2048, End: 4095, Length: 2048 Sektoren (1 MiB)
Beschreibung: Typ nicht angegeben. Könnte ein BIOS-Boot-Partition sein, wenn das System dual bootfähig ist.
Partition 001: EFI System Partition

Start: 4096, End: 1054719, Length: 1050624 Sektoren (513 MiB)
Beschreibung: Eine EFI-Systempartition, die üblicherweise Bootloader und andere Boot-bezogene Dateien enthält.
Partition 002

Start: 1054720, End: 46135295, Length: 45080576 Sektoren (21.5 GiB)
Beschreibung: Keine spezifische Beschreibung. Vermutlich ein Linux-Dateisystem (EXT2/3/4).
Unallocated Bereich

Start: 46135296, End: 47656959, Length: 1521664 Sektoren (ungefähr 744 MiB)
Partition 003: FAT

Start: 47656960, End: 68360191, Length: 20703232 Sektoren (9.9 GiB)
Beschreibung: Eine FAT-Partition, die oft für Austauschpartitionen zwischen verschiedenen Betriebssystemen oder zur Speicherung von Daten verwendet wird.
Unallocated Bereich

Start: 68360192, End: 69206015, Length: 845824 Sektoren (ungefähr 412 MiB)

------------------------------------------------------------------------------------------------
# Erstellen einer Kopie des Datenträgers
sudo dd if=/dev/loop8 of=/path/to/backup.img bs=4M

# Installieren von forensischen Tools
sudo apt-get install sleuthkit foremost bulk_extractor binwalk

# Analyse des Dateisystems
fls -r -m / /path/to/backup.img > filesystem.txt

# Durchsuchen des Inhalts nach Schlüsselwörtern
strings /path/to/backup.img | grep -iE "Waffen|Munition|Verkauf|Kauf"

# E-Mail- und Chat-Verläufe extrahieren
bulk_extractor -o output_directory /path/to/backup.img

# Gelöschte Dateien wiederherstellen
foremost -i /path/to/backup.img -o output_directory

# Analyse von polygloten Dateien
binwalk /path/to/backup.img









